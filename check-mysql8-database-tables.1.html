<!DOCTYPE html>
<html>
<head>
    <title>Caltech Library's Digital Library Development Sandbox</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/css/site.css">
</head>
<body>
<header>
<a href="http://library.caltech.edu"><img src="/assets/liblogo.gif" alt="Caltech Library logo"></a>
</header>
<nav>
<ul>
    <li><a href="/">Home</a></li>
    <li><a href="index.html">README</a></li>
    <li><a href="LICENSE">LICENSE</a></li>
    <li><a href="user-manual.html">User Manual</a></li>
    <li><a href="about.html">About</li></a>
    <li><a href="https://github.com/caltechlibrary/admin-shell-scripts">GitHub</a></li>
<ul>
</nav>

<section>
<h1 id="name">NAME</h1>
<p>check-mysql8-database-tables.bash</p>
<h1 id="synopsis">SYNOPSIS</h1>
<p>check-mysql8-database-tables.bash DATABASE_NAME</p>
<h1 id="description">DESCRIPTION</h1>
<p>check-mysql8-database-tables.bash is a bash script that uses MySQL
8’s client to execute the queries to identify which database tables
maybe corrupt. It relies on MySQL’s “SHOW TABLES” and “CHECK TABLE”
statements. The latter can take a long time for large tables. If you
abort check-mysql8-database-tables.bash the table being checked my
return a false positive for corruption.</p>
<p>The output of this script can be redirected to a file and then run in
the MySQL client if errors are found.</p>
<p>The script requires your “/Users/rsdoiel/.my.cnf” be setup with
database user have the permissions to run the SHOW and CHECK SQL
commands.</p>
<h1 id="examples">EXAMPLES</h1>
<p>Checking the tables in “caltechthesis”</p>
<pre><code>check-mysql8-database-tables.bash caltechthesis</code></pre>
<p>Checking the tables in “caltechthesis” and saving the out before
running with the MySQL client.</p>
<pre><code># Run the report
check-mysql8-database-tables.bash caltechthesis &gt;table-report.sql
# Review the report
more table-report.sql
# Run the suggested REPAIR STABLE statements in
# the report.
mysql caltechthesis &lt;table-report.sql</code></pre>
</section>

<footer>
<span><h1><A href="http://caltech.edu">Caltech</a></h1></span>
<span>&copy; 2021 <a href="https://www.library.caltech.edu/copyright">Caltech library</a></span>
<address>1200 E California Blvd, Mail Code 1-32, Pasadena, CA 91125-3200</address>
<span>Phone: <a href="tel:+1-626-395-3405">(626)395-3405</a></span>
<span><a href="mailto:library@caltech.edu">Email Us</a></span>
<a class="cl-hide" href="sitemap.xml">Site Map</a>
</footer>
</body>
</html>
