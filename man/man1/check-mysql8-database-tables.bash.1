.\" Automatically generated by Pandoc 2.19.2
.\"
.\" Define V font for inline verbatim, using C font in formats
.\" that render this, and otherwise B font.
.ie "\f[CB]x\f[]"x" \{\
. ftr V B
. ftr VI BI
. ftr VB B
. ftr VBI BI
.\}
.el \{\
. ftr V CR
. ftr VI CI
. ftr VB CB
. ftr VBI CBI
.\}
.TH "check-mysql8-database-tables.bash" "1" "2022-10-19" "user manual" ""
.hy
.SH NAME
.PP
check-mysql8-database-tables.bash
.SH SYNOPSIS
.PP
check-mysql8-database-tables.bash DATABASE_NAME
.SH DESCRIPTION
.PP
check-mysql8-database-tables.bash is a bash script that uses MySQL
8\[cq]s client to execute the queries to identify which database tables
maybe corrupt.
It relies on MySQL\[cq]s \[lq]SHOW TABLES\[rq] and \[lq]CHECK TABLE\[rq]
statements.
The latter can take a long time for large tables.
If you abort check-mysql8-database-tables.bash the table being checked
my return a false positive for corruption.
.PP
The output of this script can be redirected to a file and then run in
the MySQL client if errors are found.
.PP
The script requires your \[lq]$HOME/.my.cnf\[rq] be setup with database
user have the permissions to run the SHOW and CHECK SQL commands.
.SH EXAMPLES
.PP
Checking the tables in \[lq]caltechthesis\[rq]
.IP
.nf
\f[C]
check-mysql8-database-tables.bash caltechthesis
\f[R]
.fi
.PP
Checking the tables in \[lq]caltechthesis\[rq] and saving the out before
running with the MySQL client.
.IP
.nf
\f[C]
# Run the report
check-mysql8-database-tables.bash caltechthesis >table-report.sql
# Review the report, make sure it has sensable results
more table-report.sql
# Run the suggested REPAIR TABLE statements in
# the report if needed.
mysql caltechthesis <table-report.sql
\f[R]
.fi
.SH AUTHORS
R. S. Doiel.
